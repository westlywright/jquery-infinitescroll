/*! jquery.infinitescroll.js | https://github.com/diy/jquery-infinitescroll | Apache License (v2) */
!function(a){a.fn.infiniteScroll=function(){var b=a(this),c=a(window),d=a("body"),e="init",f=!1,g=!0,h={threshold:80,onBottom:function(){},onEnd:null,iScroll:null,local:!1};if(arguments.length&&("string"==typeof arguments[0]?(e=arguments[0],arguments.length>1&&"object"==typeof arguments[1]&&(h=a.extend(h,arguments[1]))):"object"==typeof arguments[0]&&(h=a.extend(h,arguments[0]))),"init"===e){var i=function(){if(!f&&g){var a=h.iScroll?-h.iScroll.maxScrollY+h.iScroll.y:h.local?b[0].scrollHeight-b.outerHeight()-b.scrollTop():d.outerHeight()-c.height()-c.scrollTop();a<h.threshold&&(f=!0,h.onBottom(function(a){a===!1&&(g=!1,"function"==typeof h.onEnd&&h.onEnd()),f=!1}))}};if(h.iScroll){var j=h.iScroll.options.onScrollMove||null;h.iScroll.options.onScrollMove=function(){j&&j(),i()},h.iScroll_scrollMove=j}else h.local?b.on("scroll.infinite resize.infinite",i):c.on("scroll.infinite resize.infinite",i);b.data("infinite-scroll",h),a(i)}if("reset"===e){var h=b.data("infinite-scroll");h.iScroll&&(h.iScroll_scrollMove&&(h.iScroll.options.onScrollMove=h.iScroll_scrollMove),h.iScroll.scrollTo(0,0,0,!1)),c.off("scroll.infinite resize.infinite"),b.infiniteScroll(h)}return this}}(jQuery);